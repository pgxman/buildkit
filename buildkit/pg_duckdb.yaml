apiVersion: v1
name: pg_duckdb
description: DuckDB-powered Postgres for high performance apps & analytics
license: MIT
keywords:
  - duckdb
  - analytics
  - embedded
pgVersions:
  - "16"
repository: https://github.com/duckdb/pg_duckdb
source: https://github.com/duckdb/pg_duckdb/archive/dd698a696340ab610e31c782ed0bf19e70fd7254.tar.gz # The source is not used. TODO: support git:// protocol
version: 0.1.0-pre+dd698a69
arch:
  - amd64
  - arm64
maintainers:
  - email: jd@hydra.so
    name: Jonathan Dance
buildDependencies:
  - libreadline-dev
  - flex
  - bison
  - libxml2-dev
  - libxml2-utils
  - xsltproc
  - libc++-dev
  - libc++abi-dev
  - libglib2.0-dev
  - libtinfo6
  - libstdc++-12-dev
  - liblz4-dev
build:
  main:
    - name: build pg_duckdb
      run: |
        git clone --recurse-submodules -j8 https://github.com/duckdb/pg_duckdb
        cd pg_duckdb
        git checkout dd698a696340ab610e31c782ed0bf19e70fd7254
        DESTDIR=${DESTDIR} make install
